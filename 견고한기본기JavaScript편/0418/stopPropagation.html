<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>나의 todo list</h1>
    <p class="list">1. 오늘 저녁에는 부대찌게를 끓여 먹겠다.<button type="button">삭제</button></p>
    <p class="list">2. 후식으로 슈팅스타를 먹겠다.<button type="button">삭제</button></p>
    <p class="list">3. 자기 전에 반드시 내일 아침 메뉴를 생각해두겠다.<button type="button">삭제</button></p>

    <script>
        /*
        // 오나영님 코드
        const p = document.querySelectorAll('p')
        const cancel = document.querySelectorAll('button')

        p.forEach((item) => {
            item.addEventListener('click', (e) => {
                if (e.target.classList.contains('list')) {
                    alert(item.textContent.slice(0, -2))
                    console.log('aa')
                    if (!e.target.closest("button")) {
                        alert(item.textContent.slice(0, -2));
                    }
                }
            })
        })

        cancel.forEach((btn) => {
            btn.addEventListener('click', (e) => {
                let can = confirm('정말 삭제하시겠습니까?')
                console.log('aaaaaaaaaaa')
                if (can) {
                    e.target.closest('p').remove();
                }
            })
        })
            */


        // 재영님 코드
        const btn = document.querySelectorAll('button');
        const p = document.querySelectorAll('p');

        p.forEach(el => {
            el.addEventListener('click', () => {
                console.log('pppppppp')
                alert(el.textContent.slice(0, -2))
            })
        })
        btn.forEach(el => {
            el.addEventListener('click', (e) => {

                if (confirm('삭제하겠습니까?')) {
                    el.parentElement.remove()
                    e.stopPropagation()
                }
                /*else {
                    e.stopPropagation()
                }*/
            })
        })

    </script>
</body>

</html>